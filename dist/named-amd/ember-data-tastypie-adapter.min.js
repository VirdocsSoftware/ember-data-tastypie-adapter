define("ember-data-tastypie-adapter",["ember-data-tastypie-adapter/tastypie_adapter","ember-data-tastypie-adapter/tastypie_serializer","exports"],function(e,t,r){"use strict";var i=e["default"];var a=t["default"];r.DjangoTastypieAdapter=i;r.DjangoTastypieSerializer=a});define("ember-data-tastypie-adapter/tastypie_adapter",["exports"],function(e){"use strict";var t=Ember.get,r=Ember.set;var i=Ember.ArrayPolyfills.forEach;function a(e){Ember.Logger.error(e,e.message);throw e}var n=DS.RESTAdapter.extend({serverDomain:null,namespace:"api/v1",bulkCommit:false,since:"next",defaultSerializer:"-django-tastypie",buildURL:function(e,t,r){var i=this._super(e,t,r);if(i.charAt(i.length-1)!=="/"){i+="/"}if(!!this.serverDomain){i=this.removeTrailingSlash(this.serverDomain)+i}return i},findMany:function(e,t,r,i){return this.ajax(Ember.String.fmt("%@set/%@/",this.buildURL(t.typeKey),r.join(";")),"GET")},_stripIDFromURL:function(e,t){var r=e.modelFor(t);var i=this.buildURL(r.typeKey,t.get("id"),t);var a=i.split("/");var n=a[a.length-2];var o=t.get("id");if(n===o){a[a.length-2]=""}else if(endsWith(n,"?id="+o)){a[a.length-1]=n.substring(0,n.length-o.length-1)}return a.join("/")},maxUrlLength:2048,groupRecordsForFindMany:function(e,t){var r=Ember.MapWithDefault.create({defaultValue:function(){return[]}});var a=this;var n=this.maxUrlLength;i.call(t,function(t){var i=a._stripIDFromURL(e,t);r.get(i).push(t)});function o(t,r,n){var o=a._stripIDFromURL(e,t[0]);var s=0;var u=[[]];i.call(t,function(e){var t=encodeURIComponent(e.get("id")).length+n;if(o.length+s+t>=r){s=0;u.push([])}s+=t;var i=u.length-1;u[i].push(e)});return u}var s=[];r.forEach(function(e,t){var r="&ids%5B%5D=".length;var a=o(e,n,r);i.call(a,function(e){s.push(e)})});return s},findAll:function(e,t,r){var i;if(r){var a=r.match(/offset=(\d+)/);a=!!a&&!!a[1]?a[1]:null;i={offset:a}}return this.ajax(this.buildURL(t.typeKey),"GET",{data:i})},removeTrailingSlash:function(e){if(e.charAt(e.length-1)==="/"){return e.slice(0,-1)}return e},pathForType:function(e){return e}});e["default"]=n});define("ember-data-tastypie-adapter/tastypie_serializer",["exports"],function(e){"use strict";var t=Ember.get,r=Ember.set;var i=DS.RESTSerializer.extend({keyForAttribute:function(e){return Ember.String.decamelize(e)},keyForRelationship:function(e,t){return Ember.String.decamelize(e)},extract:function(e,t,r,i,a){this.extractMeta(e,t,r);var n="extract"+a.charAt(0).toUpperCase()+a.substr(1);return this[n](e,t,r,i,a)},extractMeta:function(e,t,r){if(r&&r.meta){var i=e.adapterFor(t);if(i&&i.get("since")!==null&&r.meta[i.get("since")]!==undefined){r.meta.since=r.meta[i.get("since")]}e.metaForType(t,r.meta);delete r.meta}},extractMany:function(e,t,r,i){this.sideload(e,r,t);this.extractMeta(e,r,t);if(t.objects){var a=t.objects,n=[];if(i){i=i.toArray()}for(var o=0;o<a.length;o++){if(i){e.updateId(i[o],a[o])}var s=this.extractRecordRepresentation(e,r,a[o]);n.push(s)}e.populateArray(n)}},sideload:function(e,t,r,i){},resourceUriToId:function(e){return e.split("/").reverse()[1]},normalizeId:function(e){if(e.resource_uri){e.id=this.resourceUriToId(e.resource_uri);delete e.resource_uri}},normalizeRelationships:function(e,t){var r,i,a=this;e.eachRelationship(function(e,i){if(this.keyForRelationship){r=this.keyForRelationship(e,i.kind);if(e!==r){t[e]=t[r];delete t[r]}}if(t[e]){var n=a.isEmbedded(i);if(i.kind==="belongsTo"){var o=t[e];if(!n){}t[e]=a.resourceUriToId(t[e])}else if(i.kind==="hasMany"){var s=[];t[e].forEach(function(e){if(!n){}s.push(a.resourceUriToId(e))});t[e]=s}}},this)},extractArray:function(e,t,r){var i=[];var a=this;r.objects.forEach(function(r){a.extractEmbeddedFromPayload(e,t,r);i.push(a.normalize(t,r,t.typeKey))});return i},extractSingle:function(e,t,r,i,a){var n={};this.extractEmbeddedFromPayload(e,t,r);n[t.typeKey]=r;return this._super(e,t,n,i,a)},isEmbedded:function(e){var r=e.key;var i=t(this,"attrs");var a=i&&i[r]?i[r]:false;if(a){return a.embedded==="load"||a.embedded==="always"}return!(e.options.async?e.options.async:false)},isResourceUri:function(e,t){if(typeof t!=="string"){return false}return true},extractEmbeddedFromPayload:function(e,r,i){var a=this;r.eachRelationship(function(r,n){var o=t(a,"attrs");var s=o&&o[r]?o[r]:false;if(a.isEmbedded(n)){if(n.kind==="hasMany"){a.extractEmbeddedFromHasMany(e,r,n,i,s)}else if(n.kind==="belongsTo"){a.extractEmbeddedFromBelongsTo(e,r,n,i,s)}}})},extractEmbeddedFromHasMany:function(e,r,i,a,n){var o=this;var s=e.serializerFor(i.type.typeKey),u=t(this,"primaryKey");r=n.key?n.key:this.keyForAttribute(r);var d=[];if(!a[r]){return}Ember.EnumerableUtils.forEach(a[r],function(t){var r=e.modelFor(i.type.typeKey);s.extractEmbeddedFromPayload(e,r,t);t=s.normalize(r,t,r.typeKey);d.push(s.relationshipToResourceUri(i,t));e.push(r,t)});a[r]=d},extractEmbeddedFromBelongsTo:function(e,r,i,a,n){var o=e.serializerFor(i.type.typeKey),s=t(this,"primaryKey");r=n.key?n.key:this.keyForAttribute(r);if(!a[r]){return}var u=a[r];if(o.isResourceUri(e.adapterFor(i.type.typeKey),u)){return}var d=e.modelFor(i.type.typeKey);o.extractEmbeddedFromPayload(e,d,u);u=o.normalize(d,u,d.typeKey);a[r]=o.relationshipToResourceUri(i,u);e.push(d,u)},relationshipToResourceUri:function(e,r){if(!r)return r;var i=e.type.store,a=e.type.typeKey;return i.adapterFor(a).buildURL(a,t(r,"id"))},serializeIntoHash:function(e,t,r,i){Ember.merge(e,this.serialize(r,i))},serializeBelongsTo:function(e,r,i){this._super.apply(this,arguments);var a=i.key;a=this.keyForRelationship?this.keyForRelationship(a,"belongsTo"):a;r[a]=this.relationshipToResourceUri(i,t(e,i.key))},serializeHasMany:function(e,r,i){var a=i.key;a=this.keyForRelationship?this.keyForRelationship(a,"hasMany"):a;var n=e.constructor.determineRelationshipType(i);if(n==="manyToNone"||n==="manyToMany"||n==="manyToOne"){if(this.isEmbedded(i)){r[a]=t(e,a).map(function(e){var t=e.serialize();var r=e.get("id");if(!!r){t.id=r}return t})}else{var o=t(e,i.key);if(o instanceof DS.PromiseArray){if(o.get("isFulfilled")){o=o.get("content")}else{o=t(e,a).mapBy("id").map(function(e){return{id:e}})||[]}}r[a]=o.map(function(e){return this.relationshipToResourceUri(i,e)},this)}}}});e["default"]=i});